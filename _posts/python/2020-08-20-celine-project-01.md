---
title: "[1ì°¨ í”„ë¡œì íŠ¸] CELINE ì‚¬ì´íŠ¸ í¬ë¡¤ë§ 01"
categories: python project
---
1ì°¨ í”„ë¡œì íŠ¸ë¡œ CELINE ì‚¬ì´íŠ¸ë¥¼ í´ë¡ í•˜ê²Œ ë˜ì—ˆë‹¤. ë¨¼ì € shoes ì¹´í…Œê³ ë¦¬ë§Œ êµ¬í˜„í•˜ê¸°ë¡œí•˜ì—¬ shoes ë°ì´í„°ë§Œ í¬ë¡¤ë§í•˜ê¸°ë¡œ í–ˆê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ë§ì„ í•˜ì˜€ë‹¤. 

![Modeling](assets/img/celine-modeling.png)

ê°ê° ì„¸ ê°€ì§€ì˜ ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ë‰˜ë©° ì œí’ˆ í…Œì´ë¸”ê³¼ ì œí’ˆì˜ ì´ë¯¸ì§€, ìƒ‰ìƒ í…Œì´ë¸”ì´ ìˆìœ¼ë©° ì œí’ˆê³¼ ìƒ‰ìƒì€ n:m ê´€ê³„ì´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ í…Œì´ë¸”ì´ í•„ìš”í•˜ë‹¤. 

## ë©”ë‰´ ë° ìƒí’ˆ ë°ì´í„°
![Modeling](https://user-images.githubusercontent.com/26542094/91656733-f36b3d00-eaf5-11ea-86c2-29de6e99e11d.png)
ìœ„ëŠ” ì…€ë¦°ëŠ í™ˆí˜ì´ì§€ì˜ nav bar ì´ë‹¤.
 ì—¬ê¸°ì„œ ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ```main menu```, ë‘ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ```categories```, ì„¸ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ```sub_categories``` í…Œì´ë¸” ì´ë‹¤. 
![Modeling](https://user-images.githubusercontent.com/26542094/91656736-f5350080-eaf5-11ea-8e97-cb6df1219ad4.png)
ìœ„ì™€ ê°™ì´ ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ì œí’ˆì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ê°€ ìˆì–´ ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”ì„ í†µí•´ ì œí’ˆì´ ì–´ë–¤ ì¹´í…Œê³ ë¦¬ì— ì†í•´ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 
![Modeling](https://user-images.githubusercontent.com/26542094/91656738-f6662d80-eaf5-11ea-9398-0adff4173354.png)
![Modeling](https://user-images.githubusercontent.com/26542094/91656821-dc791a80-eaf6-11ea-90e6-60b24125e5f5.png)
![runway](https://user-images.githubusercontent.com/26542094/91657021-be141e80-eaf8-11ea-92bf-a3b289eac9dc.png)
ìƒí’ˆì˜ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ìƒì„¸ í˜ì´ì§€ì— ìƒí’ˆì˜ ì´ë¯¸ì§€ì™€ ì´ë¦„, ì„¤ëª…, ìƒ‰ìƒê³¼ ê° ìƒí’ˆì´ ì†í•˜ëŠ” ì¹´í…Œê³ ë¦¬ê¹Œì§€ ì•Œ ìˆ˜ ìˆì–´ í•œ í˜ì´ì§€ì—ì„œ ëª¨ë‘ í¬ë¡¤ë§ í•  ìˆ˜ ìˆì—ˆë‹¤. 
ëŸ°ì›¨ì´ ë£©ìŠ¤ì˜ ê²½ìš°ì—ëŠ” í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ image-urlì„ ëª¨ë‘ í¬ë¡¤ë§í•˜ì˜€ê³  í”„ë¡ íŠ¸ ì—”ë“œì—ëŠ” í•˜ë‚˜ì˜ ë¦¬ìŠ¤íŠ¸ë¡œ ë³´ë‚´ì£¼ì—ˆë‹¤. 

### í¬ë¡¤ë§
í¬ë¡¤ë§ì€ ```selenium``` ì„ ì‚¬ìš©í•˜ì˜€ë‹¤. 

ì²˜ìŒ ìƒê²¼ë˜ ë¬¸ì œëŠ” ë¸Œë¼ìš°ì €ë¥¼ ë„ì› ì„ ë•Œ ì¿ í‚¤ í—ˆìš©ì— ê´€í•œ ì•Œë¦¼ì´ ìœ„ ìª½ì— ëœ¨ëŠ” ë° ì´ë¥¼ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë©´ ì•Œë¦¼ì°½ì— ë‹¤ë¥¸ ìš”ì†Œë“¤ì´ ê°€ë ¤ì ¸ ì œëŒ€ë¡œ í¬ë¡¤ë§ í•  ìˆ˜ê°€ ì—†ì–´ ì²˜ìŒì— í—ˆìš© ë²„íŠ¼ì„ í´ë¦­í•˜ëŠ” ë¡œì§ì„ ë„£ì–´ì£¼ì–´ì•¼ í–ˆë‹¤. 
```py
# ì¿ í‚¤ í—ˆìš© í•˜ê¸°
cookie_btn = driver.find_element_by_css_selector("#root > div.Sticky.js-cel-Sticky > div > div > div > div.grid__right > div > div > button")
cookie_btn.click()
```

ì²˜ìŒ ìƒí’ˆì˜ ìƒì„¸ ë°ì´í„°ë¥¼ í¬ë¡¤ë§í•  ë•Œ ì¹´í…Œê³ ë¦¬ -> ê° ì œí’ˆ ìƒì„¸ í˜ì´ì§€ë¡œ ë§¤ë²ˆ í´ë¦­í•´ì„œ ë“¤ì–´ê°€ë„ë¡ êµ¬í˜„ì„ í–ˆì—ˆë‹¤. ê·¸ëŸ°ë° í´ë¦­ì„ í†µí•´ í¬ë¡¤ë§ì„ í•  ê²½ìš° í˜ì´ì§€ ë¡œë“œë¥¼ ê¸°ë‹¤ë¦¬ëŠ”ë° ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ê¸°ë„ í•˜ê³  ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí•´ ì´ë¥¼ urlì„ í†µí•´ í˜ì´ì§€ê°€ ë°”ë€Œë„ë¡ ë°”ê¾¸ì—ˆë‹¤. 

![shoes](https://user-images.githubusercontent.com/26542094/91657366-54e1da80-eafb-11ea-882f-b053c2f453d2.png)

ì—¬ê¸°ì„œ item ì€ ìœ„ì˜ BOOTS, SANDALS .. ì™€ ê°™ì€ ì¹´í…Œê³ ë¦¬ì´ë©° ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì— ì†í•˜ëŠ” ì‹ ë°œì˜ url ì„ ê°€ì ¸ì˜¨ë‹¤. ì´ í›„ ê° ìƒí’ˆ(url) ë³„ë¡œ ì¹´í…Œê³ ë¦¬ ì •ë³´ë„ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— urlì€ ë”•ì…”ë„ˆë¦¬ì˜ í‚¤, ì¹´í…Œê³ ë¦¬ëŠ” value ì— ì €ì¥í–ˆë‹¤. (ì•„ë˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ì‚¬ìš©í•œ ì¢€ ë” ìì„¸í•œ ì´ìœ ê°€ ìˆë‹¤.)
```py
 driver.get("https://www.celine.com/en-int/celine-women/shoes/" + item)
        # ìŠ¤í¬ë¡¤ ë†’ì´ ê°€ì ¸ì˜¨ë‹¤.
        last_height = driver.execute_script("return document.body.scrollHeight")
        # ëê¹Œì§€ ìŠ¤í¬ë¡¤ ë‹¤ìš´
        driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
        time.sleep(1)
        # í˜ì´ì§€ ë¡œë“œ ê¸°ë‹¤ë¦¬ê³  íƒœê·¸ ëª¨ë‘ ê°€ì ¸ì˜¨ë‹¤.
        a_tags = driver.find_elements_by_xpath('/html/body/div[1]/main/div[2]/div[3]/div[2]/div/div/div[2]/ul/li/article/a')
```

a_tags urlì„ í•˜ë‚˜ì”© ëŒë©° ìƒí’ˆì˜ ì´ë¦„ê³¼ ì„¤ëª…, ìƒ‰ìƒ ë“±ì„ í¬ë¡¤ë§ í•˜ì—¬ ê°ê° ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í–ˆë‹¤. 
```py
for prod in prod_dict.keys():
    print(prod)
    driver.get(prod)
    # ì´ë¦„
    shoes_name = driver.find_element_by_css_selector("div#product-details-main > main > div.grid__right > section > div.o-product__product > form > h1").text
    shoes_name_list.append(shoes_name)
    # print(shoes_name)
    # ì„¤ëª…
    description = driver.find_element_by_xpath("/html/body/div[1]/main/div[2]/section/div[2]/form/p[2]").text
    description_list.append(description)
    # print(description)
    # --- ìƒ‰ìƒ í¬ë¡¤ë§ ---
    color_click = driver.find_element_by_css_selector("#ddt-productColour")
    color_click.click() # colors ë“œë¡­ ë‹¤ìš´ í´ë¦­
    # ì»¬ëŸ¬
    color_name_list = []
    color_names = driver.find_elements_by_xpath("/html/body/div[1]/main/div[2]/section/div[2]/form/fieldset/ol/li[1]/div/div/fieldset/div/ol/li/div/a")
    for item in color_names:
        color_name_list.append(item.text)
```
 
![shoes](https://user-images.githubusercontent.com/26542094/91657584-14835c00-eafd-11ea-8d33-bf491ead0e59.png)
![shoes](https://user-images.githubusercontent.com/26542094/91657586-164d1f80-eafd-11ea-8f28-63cae7433929.png)

í¬ë¡¤ë§ì„ í•˜ë©° ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ì€ ìœ„ì™€ ê°™ì´ ê°ê° ìƒí’ˆì´ ì†í•œ ì¹´í…Œê³ ë¦¬ ë“¤ì„ í¬ë¡¤ë§í•˜ëŠ”ë° new ìƒí’ˆì¸ ê²½ìš°ì—ëŠ” 4ë²ˆì§¸ì— ì¹´í…Œê³ ë¦¬ ëª…ì´ ìˆì§€ ì•Šê³  new ê°€ ìœ„ì¹˜í•´ ìˆëŠ”ë‹¤. ë”°ë¼ì„œ 4ë²ˆì§¸ì— new ê°€ ìˆì„ ê²½ìš°ì—ëŠ” ë”•ì…”ë„ˆë¦¬ì˜ valueë¥¼ ê°€ì ¸ì™€ ì¹´í…Œê³ ë¦¬ì— ëŒ€ì‹  ë„£ì–´ì£¼ë„ë¡ í•˜ì˜€ë‹¤. ë” ì¢‹ì€ ë°©ë²•ì´ ìˆì„ ì§€ë„ ëª¨ë¥´ì§€ë§Œ ì´ ë• ì´ ë°©ë²•ë°–ì— ìƒê°ë‚˜ì§€ ì•Šì•˜ë‹¤ ğŸ˜­
```py
 # ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬
    first_category = driver.find_element_by_xpath("/html/body/div[1]/main/div[2]/section/nav/ul/li[2]/a").text
    # ë‘ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬
    second_category = driver.find_element_by_xpath("/html/body/div[1]/main/div[2]/section/nav/ul/li[3]/a").text
    try:
        # ì„¸ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬
        third_category = driver.find_element_by_xpath("/html/body/div[1]/main/div[2]/section/nav/ul/li[4]/a").text
        # ë„¤ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬
        forth_category = prod_dict[prod]
    except:
        pass
```

## ì•„ì‰¬ì› ë˜ ì 
ë°°í¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¹ƒí—™ì— ì½”ë“œë¥¼ ì˜¬ë¦¬ê¸° ë•Œë¬¸ì— ë°ì´í„°ì™€ ê´€ë ¨ëœ íŒŒì¼ì„ ê¹ƒí—™ì— ë”°ë¡œ ì˜¬ë¦¬ì§€ ì•Šì•„ í¬ë¡¤ë§ì— ê´€ë ¨ëœ ì½”ë“œëŠ” í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ì—†ì—ˆë‹¤. ì§€ê¸ˆ ë‚´ê°€ ë´ë„ ì½”ë“œê°€ ì •ë§ ì—‰ë§ì¸ë° ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ì— ìµìˆ™í•˜ì§€ ì•Šì•„ ì‚¬ìš©í•˜ì§€ë„ ì•Šì•˜ê³  ì‹œê°„ì— ì«“ê²¨ íš¨ìœ¨ì€ ìƒê°í•˜ì§€ë„ ì•Šê³  ì§°ë‹¤. ì‚¬ì´íŠ¸ë„ ë³µì¡í•œë° ëŠë¦¬ê¸°ë„ í•´ì„œ í¬ë¡¤ë§í•˜ëŠ”ë° ì •ë§ ì•  ë¨¹ì—ˆë˜ ê¸°ì–µì´ ìˆëŠ”ë° ì´ ê²½í—˜ì„ í† ëŒ€ë¡œ ë‹¤ìŒì—ëŠ” ì¢€ ë” ë¹ ë¥´ê³  ê°€ë…ì„± ì¢‹ê²Œ ì½”ë”©ì„ í•˜ê³  ì‹¶ë‹¤ ğŸ˜‚